import{P as x}from"./PurchaseStepper-3be16947.js";import{C as $}from"./ContainerLoading-f86384ee.js";import{m as D,g as P,_ as g,r as p,o as n,c as r,a as e,b as c,F as _,i as f,t as a,j as v,d as l,w as m,D as L,E as M,G as S,h}from"./index-edad3391.js";import{c as y}from"./cartAndWishList-82fed968.js";import"./index-43856864.js";import"./sweetalert2.all-26e290d6.js";import"./Toast-1b310df8.js";const A={data(){return{CouponCode:"",container:this.$refs.loadingContainer}},components:{ContainerLoading:$},methods:{...D(y,["getCart","removeCartProduct","removeCartAllProduct","upDataCartProduct","UseCoupon","deliveryMethod"])},computed:{...P(y,["carts","total","final_total","delivery","isLoading","couponCodeMessage"])}},N={key:0,class:"row mt-2 gy-3"},V={class:"col-lg-8"},B={class:"border border-2 border-secondary px-5 py-5"},q={class:"vl-parent",ref:"loading-container"},z={class:"d-none d-md-block"},T={class:"table table-striped align-middle mb-6"},j=e("thead",null,[e("tr",null,[e("th",{scope:"col"}),e("th",{scope:"col"},"商品名稱"),e("th",{scope:"col"},"價格"),e("th",{class:"text-center",scope:"col"},"數量"),e("th",{class:"text-center",scope:"col"})])],-1),H={scope:"row"},U=["src","alt"],I={class:"text-wrap"},O={class:"px-1"},Z={class:"w-25"},F={class:"input-group px-2"},G=["onClick","disabled"],K=["value","onChange"],R=["onClick"],X={class:"text-center"},E=["onClick"],Q=e("i",{class:"bi bi-trash3-fill fs-5"},null,-1),W=[Q],Y={class:"d-block d-md-none"},J={class:"table table-striped align-middle mb-6"},ee=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"您所選擇的商品")])],-1),te={scope:"row"},oe={class:"d-flex flex-column align-items-center py-3 px-2"},se=["src","alt"],ne={class:"fw-normal"},re={class:"fw-normal mb-3"},de={class:"input-group w-auto mb-4"},le=["onClick","disabled"],ie=["value","onChange"],ae=["onClick"],ce=["onClick"],ue=e("i",{class:"bi bi-trash3-fill fs-4"},null,-1),pe=[ue],be=e("div",{class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 mb-3"},null,-1),he={class:"d-flex justify-content-between"},_e=e("i",{class:"bi bi-arrow-left me-2"},null,-1),me=e("i",{class:"bi bi-trash3-fill me-2"},null,-1),fe={class:"col-lg-4"},ve={class:"border border-2 border-secondary px-5 py-5 d-flex flex-column"},ye={class:"vl-parent",ref:"loading-container"},ge=e("div",{class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 w-100 mb-6"},[e("h2",{class:"fs-5 fw-bold"},"購物車總計")],-1),Ce={class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 w-100 mb-11 d-flex justify-content-between align-items-end"},we=e("h3",{class:"fs-6 text-nowrap"},"小計",-1),ke={class:"fw-bold fs-4 me-1"},xe={class:"mb-8"},$e=e("div",{class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 w-100 mb-3 d-flex"},[e("h3",{class:"fs-6 fw-bold"},"配送方式")],-1),De={class:"form-check"},Pe=["checked"],Le=e("label",{class:"form-check-label",for:"DeliveryMethod02"}," 順豐速遞 - 常溫配送 ",-1),Me={class:"form-check"},Se=["checked"],Ae=e("label",{class:"form-check-label",for:"DeliveryMethod01"}," 7-11 取貨",-1),Ne={class:"mb-8"},Ve=e("div",{class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 w-100 mb-3 d-flex"},[e("h3",{class:"fs-6 fw-bold"},"優惠卷")],-1),Be={key:0,class:"fs-6"},qe={class:"border border-1 border-secondary border-top-0 border-end-0 border-start-0 w-100 mb-3 d-flex justify-content-between align-items-end"},ze=e("h3",{class:"fs-6 text-nowrap fw-bold"},"總計",-1),Te={class:"d-flex flex-column"},je={key:0,class:"fw-bold fs-4 opacity-25 text-decoration-line-through me-1"},He={class:"fw-bold fs-4 me-1"},Ue={class:"d-flex justify-content-end"},Ie={key:1,class:"cart-status border border-2 border-secondary px-5 py-5 mt-6 mb-5"},Oe={class:"d-flex justify-content-center align-items-center py-7"},Ze={class:"d-flex flex-column justify-content-center align-items-center"},Fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-cart-plus-fill text-secondary mb-3",viewBox:"0 0 16 16"},[e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z"})],-1),Ge=e("h2",{class:"fw-bold fs-2 text-secondary mb-1"},"OOPS!!",-1),Ke=e("p",{class:"fw-bold fs-5 text-secondary mb-4"},"您的購物車裡還沒有任何商品!",-1);function Re(o,s,C,w,i,k){const b=p("ContainerLoading"),u=p("router-link");return n(),r(_,null,[o.carts.length?(n(),r("div",N,[e("div",V,[e("div",B,[e("div",q,[c(b,{isLoading:o.isLoading,container:i.container},null,8,["isLoading","container"]),e("div",z,[e("table",T,[j,e("tbody",null,[(n(!0),r(_,null,f(o.carts,t=>(n(),r("tr",{key:t.product.id},[e("td",H,[e("img",{class:"img-fluid",src:t.product.imageUrl,alt:t.product.title,width:"100",height:"100"},null,8,U)]),e("td",I,a(t.product.title),1),e("td",null,[e("span",O,a(t.product.origin_price),1)]),e("td",Z,[e("div",F,[e("button",{class:"btn btn-outline-secondary",type:"button",onClick:d=>o.upDataCartProduct(t.id,t.qty-1),disabled:t.qty==1}," - ",8,G),e("input",{class:"form-control text-center border-secondary",type:"text",autocomplete:"off",maxlength:"99",minlength:"1",oninput:"value=value.replace(/[^\\d]/g,'')",value:t.qty,onChange:d=>o.upDataCartProduct(t.id,d.target.value)},null,40,K),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:d=>o.upDataCartProduct(t.id,t.qty+1)}," + ",8,R)])]),e("th",X,[e("a",{class:"me-2",href:"",onClick:v(d=>o.removeCartProduct(t.id),["prevent"])},W,8,E)])]))),128))])])]),e("div",Y,[e("table",J,[ee,e("tbody",null,[(n(!0),r(_,null,f(o.carts,t=>(n(),r("tr",null,[e("th",te,[e("div",oe,[e("img",{class:"img-fluid mb-3",src:t.product.imageUrl,alt:t.product.title,width:"300",height:"300"},null,8,se),e("span",ne,a(t.product.title),1),e("span",re,[l("NT$"),e("span",null,a(t.product.origin_price),1)]),e("div",de,[e("button",{class:"btn btn-outline-secondary py-2",type:"button",onClick:d=>o.upDataCartProduct(t.id,t.qty-1),disabled:t.qty==1}," - ",8,le),e("input",{class:"form-control text-center border-secondary",type:"text",autocomplete:"off",maxlength:"99",minlength:"1",oninput:"value=value.replace(/[^\\d]/g,'')",value:t.qty,onChange:d=>o.upDataCartProduct(t.id,d.target.value)},null,40,ie),e("button",{class:"btn btn-outline-secondary py-2",type:"button",onClick:d=>o.upDataCartProduct(t.id,t.qty+1)}," + ",8,ae)]),e("a",{href:"",onClick:v(d=>o.removeCartProduct(t.id),["prevent"])},pe,8,ce)])])]))),256))])])])],512),e("div",null,[be,e("div",he,[c(u,{class:"btn btn-outline-secondary me-2 py-2",to:"/products"},{default:m(()=>[_e,l("繼續選購")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...t)=>o.removeCartAllProduct&&o.removeCartAllProduct(...t)),class:"btn btn-outline-secondary ms-2 py-2",type:"button"},[me,l("清空購物車 ")])])])])]),e("div",fe,[e("div",ve,[e("div",ye,[c(b,{isLoading:o.isLoading,container:i.container},null,8,["isLoading","container"]),ge,e("div",Ce,[we,e("span",ke,[l("NT$ "),e("span",null,a(o.total),1)])]),e("div",xe,[$e,e("div",De,[e("input",{class:"form-check-input",id:"DeliveryMethod02",type:"radio",name:"DeliveryMethod",onClick:s[1]||(s[1]=t=>o.deliveryMethod("順豐速遞 - 常溫配送")),checked:o.delivery==="順豐速遞 - 常溫配送"},null,8,Pe),Le]),e("div",Me,[e("input",{class:"form-check-input",id:"DeliveryMethod01",type:"radio",name:"DeliveryMethod",onClick:s[2]||(s[2]=t=>o.deliveryMethod("7-11 取貨")),checked:o.delivery==="7-11 取貨"},null,8,Se),Ae])]),e("div",Ne,[Ve,L(e("input",{class:"form-control mb-2",type:"text",placeholder:"請輸入優惠卷代碼","onUpdate:modelValue":s[3]||(s[3]=t=>i.CouponCode=t),onKeyup:s[4]||(s[4]=S(t=>o.UseCoupon(i.CouponCode),["enter"]))},null,544),[[M,i.CouponCode]]),e("button",{class:"btn btn-primary w-100 py-2 mb-2",onClick:s[5]||(s[5]=t=>o.UseCoupon(i.CouponCode))}," 使用優惠卷 "),o.total!==o.final_total?(n(),r("span",Be,a(o.couponCodeMessage),1)):h("",!0)]),e("div",qe,[ze,e("div",Te,[o.total!==o.final_total?(n(),r("span",je,[l("NT$ "),e("span",null,a(o.total),1)])):h("",!0),e("span",He,[l("NT$ "),e("span",null,a(o.final_total),1)])])]),e("div",Ue,[c(u,{class:"btn btn-primary w-100 w-lg-50 mb-8 py-2",to:"/CartOrderersInformation"},{default:m(()=>[l("前往結帳")]),_:1})])],512)])])])):h("",!0),o.carts.length?h("",!0):(n(),r("div",Ie,[e("div",Oe,[e("div",Ze,[Fe,Ge,Ke,c(u,{class:"btn btn-primary py-2",to:"/products"},{default:m(()=>[l("來去逛逛")]),_:1})])])]))],64)}const Xe=g(A,[["render",Re]]),Ee={data(){return{PurchaseStepperIsActive:"cart"}},components:{PurchaseStepper:x,CartCard:Xe},mounted(){}},Qe={class:"py-md-13 py-9 background-position-center background-size-corver",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/peihanwang-hexschool/1689994205093.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=RLJFHdzxV1ZFvcHobhOCdJFG71iTXspxuTuLv3LAuadLgMdzvO3ebfDIxgaswSy6G8SbPxVDbqyApt2wU2it78WeORuUUxdwMwTXV4qzswD20QiHhMvd3AZgGH6OcmLl%2BSP1YQilwzCQZlKgSckbe6LYnCKT2E7vj3iO9qTAsfoXM3FYNRfGl4p3Z11%2BRPSu5PDI5Wjg%2BSnmgeYzn3LLZfqyWN%2BHKVesfnxsDx4s6CkU%2ByX97aX4%2FIZiE89I6SwCw4DvMsNctfvaurRt6YyJKQ3NAB%2BBkmC1pBr0ARDd8C%2BWkxQXNVbaVkvu9PdgirS2CneyZtgonvceaSs5mSNnZA%3D%3D')","background-color":"var(--bs-primary)"}},We={class:"container d-flex flex-column align-items-center"},Ye=e("h2",{class:"fw-bold fs-lg-10 fs-1 mb-3 text-white",style:{"font-family":"var(--bs-NotoSerif-TC)"}}," 購物車 ",-1),Je={class:"fs-6"},et={"aria-label":"breadcrumb"},tt={class:"breadcrumb mb-0 text-white text-center"},ot={class:"breadcrumb-item"},st=e("li",{class:"breadcrumb-item active","aria-current":"page"},"購物車",-1),nt={class:"container mt-5 mt-md-7 mb-10"};function rt(o,s,C,w,i,k){const b=p("routerLink"),u=p("PurchaseStepper"),t=p("CartCard");return n(),r(_,null,[e("div",Qe,[e("div",We,[Ye,e("div",Je,[e("nav",et,[e("ol",tt,[e("li",ot,[c(b,{class:"text-decoration-none text-white",to:"/"},{default:m(()=>[l("首頁")]),_:1})]),st])])])])]),e("div",nt,[c(u,{isActive:i.PurchaseStepperIsActive},null,8,["isActive"]),c(t)])],64)}const bt=g(Ee,[["render",rt]]);export{bt as default};
