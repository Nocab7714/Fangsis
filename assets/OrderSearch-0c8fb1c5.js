import{C as g}from"./ContainerLoading-f6bb268f.js";import{S as x}from"./sweetalert2.all-d1356fc4.js";import{_ as b,r as h,o as n,c as i,b as m,a as s,D as v,E as w,G as y,d as a,t,n as S,h as p,F as f,i as C,w as L}from"./index-d8e2e5db.js";import"./index-bd4575b3.js";const{VITE_APP_URL:P,VITE_APP_PATH:T}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"peihanwang-hexschool",BASE_URL:"/Fangsis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={data(){return{order:{},orderStatus:!0,inputProductId:"",orderCreateTime:"",address:"",email:"",name:"",tel:"",isLoading:!1,container:this.$refs.loadingContainer}},components:{ContainerLoading:g},methods:{getProductOrder(_){this.isLoading=!0;const o=_.trim();this.$http.get(`${P}/v2/api/${T}/order/${o}`).then(c=>{this.order=c.data.order;const u=c.data.order.create_at,e=new Date(u);this.orderCreateTime=e,this.address=this.order.user.address,this.address=this.address.replace(/^.{5}/,"*****"),this.email=this.order.user.email,this.email=this.email.replace(/^(.{3})/,(d,l)=>"*".repeat(l.length)),this.name=this.order.user.name,this.name=this.name.replace(/^(.)./,"$1*"),this.tel=this.order.user.tel,this.tel=this.tel.replace(/(\d{3})\d{2}(\d)\d{2}(\d{2})/,"$1**$2**$3"),this.orderStatus=!0,this.isLoading=!1}).catch(c=>{this.orderStatus=!1,console.log(c.message),x.fire({title:"查詢失敗",text:"未找到您所查詢的訂單資訊，請確認輸入的訂單編號是否正確!",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#5D7067"}),this.isLoading=!1})}},mounted(){this.order={}}},D={class:"vl-parent",ref:"loading-container"},B={class:"row justify-content-center"},V={class:"col-lg-6"},A={class:"input-group"},I=s("i",{class:"bi bi-search"},null,-1),O=[I],E={key:0,class:"cart-status border border-2 border-secondary px-5 py-10 mt-6 mb-10 d-flex justify-content-center align-items-center flex-column"},N=s("div",null,[s("h3",{class:"fs-1 fw-bold"},[a("Sorry ... "),s("br"),a("查無此訂單資料")]),s("p",{class:"fs-5"},"請再次確認輸入的訂單編號正確無誤!")],-1),R=[N],z={key:1,class:"cart-status border border-2 border-secondary px-5 py-5 mt-4 mb-10 d-flex justify-content-center flex-column"},F={class:"mb-5"},U=s("h3",{class:"fs-3 fw-bold mb-3"},"訂單資料",-1),Z={class:"list-unstyled fs-6"},$={class:"mb-1"},H=s("span",{class:"fw-bold"},"訂單編號 : ",-1),M={class:"mb-1"},j=s("span",{class:"fw-bold"},"建立日期 : ",-1),G={class:"mb-1"},K=s("span",{class:"fw-bold"},"是否付款 : ",-1),X={class:"mb-5"},q=s("h3",{class:"fs-3 fw-bold mb-3"},"訂購人個人資料",-1),Q={class:"list-unstyled fs-6"},Y={class:"row g-0 mb-sm-1 mb-3"},W=s("span",{class:"fw-bold col-xl-2 col-sm-4 col-12"},"客戶姓名 :",-1),J={class:"col-8"},ss={class:"row g-0 mb-sm-1 mb-3"},es=s("span",{class:"fw-bold col-xl-2 col-sm-4 col-12"},"聯絡電話 : ",-1),ts={class:"col-8"},os={class:"row g-0 mb-sm-1 mb-3"},rs=s("span",{class:"fw-bold col-xl-2 col-sm-4 col-12"},"電子郵件 : ",-1),ns={class:"col-8"},is={class:"row g-0 mb-sm-1 mb-3"},cs=s("span",{class:"fw-bold col-xl-2 col-sm-4 col-12"},"收件地址 : ",-1),as={class:"col-8"},ls={class:"row"},ds=s("span",{class:"fw-bold col-xl-2 col-12"},"訂單備註 : ",-1),_s={class:"col-xxl-8 col-12"},us=s("h3",{class:"fs-3 fw-bold mb-3"},"訂購商品",-1),hs={class:"list-unstyled fs-6"};function ms(_,o,c,u,e,d){const l=h("ContainerLoading");return n(),i("div",D,[m(l,{isLoading:e.isLoading,container:e.container},null,8,["isLoading","container"]),s("div",B,[s("div",V,[s("div",A,[v(s("input",{class:"form-control",type:"text",placeholder:"請輸入您的訂單編號","onUpdate:modelValue":o[0]||(o[0]=r=>e.inputProductId=r),onKeyup:o[1]||(o[1]=y(r=>d.getProductOrder(e.inputProductId),["enter"]))},null,544),[[w,e.inputProductId]]),s("button",{class:"btn btn-primary",type:"button",onClick:o[2]||(o[2]=r=>d.getProductOrder(e.inputProductId))},O)]),e.orderStatus===!1?(n(),i("div",E,R)):e.orderStatus===!0?(n(),i("div",z,[s("div",F,[U,s("ul",Z,[s("li",$,[H,a(),s("span",null,t(e.order.id),1)]),s("li",M,[j,a(),s("span",null,t(e.orderCreateTime),1)]),s("li",G,[K,e.order.id?(n(),i("span",{key:0,class:S({"text-success":e.order.is_paid,"text-danger":!e.order.is_paid})},t(e.order.is_paid?"已付款":"尚未付款"),3)):p("",!0)])])]),s("div",X,[q,s("ul",Q,[s("li",Y,[W,s("span",J,t(e.name),1)]),s("li",ss,[es,s("span",ts,t(e.tel),1)]),s("li",os,[rs,s("span",ns,t(e.email),1)]),s("li",is,[cs,s("span",as,t(e.address),1)]),s("li",ls,[ds,s("span",_s,t(e.order.message),1)])])]),s("div",null,[us,s("ul",hs,[(n(!0),i(f,null,C(e.order.products,r=>(n(),i("li",null,[a(t(r.product.title)+" ",1),s("span",null,"x"+t(r.qty),1)]))),256))])])])):p("",!0)])])],512)}const ps=b(k,[["render",ms]]),bs={data(){return{}},components:{OrderSearchCard:ps}},fs={class:"py-md-13 py-9 background-position-center background-size-corver",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/peihanwang-hexschool/1689994205093.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=RLJFHdzxV1ZFvcHobhOCdJFG71iTXspxuTuLv3LAuadLgMdzvO3ebfDIxgaswSy6G8SbPxVDbqyApt2wU2it78WeORuUUxdwMwTXV4qzswD20QiHhMvd3AZgGH6OcmLl%2BSP1YQilwzCQZlKgSckbe6LYnCKT2E7vj3iO9qTAsfoXM3FYNRfGl4p3Z11%2BRPSu5PDI5Wjg%2BSnmgeYzn3LLZfqyWN%2BHKVesfnxsDx4s6CkU%2ByX97aX4%2FIZiE89I6SwCw4DvMsNctfvaurRt6YyJKQ3NAB%2BBkmC1pBr0ARDd8C%2BWkxQXNVbaVkvu9PdgirS2CneyZtgonvceaSs5mSNnZA%3D%3D')","background-color":"var(--bs-primary)"}},gs={class:"container d-flex flex-column align-items-center"},xs=s("h2",{class:"fw-bold fs-lg-10 fs-1 mb-3 text-white",style:{"font-family":"var(--bs-NotoSerif-TC)"}}," 訂單查詢 ",-1),vs={class:"fs-6"},ws={"aria-label":"breadcrumb"},ys={class:"breadcrumb mb-0 text-white text-center"},Ss={class:"breadcrumb-item"},Cs=s("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單查詢",-1),Ls={class:"container my-10"};function Ps(_,o,c,u,e,d){const l=h("routerLink"),r=h("OrderSearchCard");return n(),i(f,null,[s("div",fs,[s("div",gs,[xs,s("div",vs,[s("nav",ws,[s("ol",ys,[s("li",Ss,[m(l,{class:"text-decoration-none text-white",to:"/"},{default:L(()=>[a("首頁")]),_:1})]),Cs])])])])]),s("div",Ls,[m(r)])],64)}const Vs=b(bs,[["render",Ps]]);export{Vs as default};
