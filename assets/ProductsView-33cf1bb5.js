import{_ as h,o as n,c,a as t,n as d,j as y,F as f,i as L,t as g,p as P,l as k,m as I,g as S,r as u,b as _,w as x,h as b,d as V}from"./index-b9b30565.js";import{C as B}from"./ContainerLoading-e41a15ae.js";import{c as $}from"./cartAndWishList-491ef1ee.js";import"./index-f5973906.js";import"./sweetalert2.all-bbb8dc46.js";import"./Toast-81e178b4.js";const N={data(){return{}},props:["getProducts","categoryValue"]},D={class:"list-group"},E=t("li",{class:"list-unstyled"},"全部商品",-1),M=[E],F=t("li",{class:"list-unstyled"},"禮盒系列",-1),R=[F],z=t("li",{class:"list-unstyled"},"沐浴用品",-1),U=[z],j=t("li",{class:"list-unstyled"},"室內香氛",-1),O=[j];function X(s,o,e,p,r,l){return n(),c("ul",D,[t("button",{type:"button",class:d(["list-group-item list-group-item-action",{active:e.categoryValue===""}]),onClick:o[0]||(o[0]=i=>e.getProducts(1))},M,2),t("button",{type:"button",class:d(["list-group-item list-group-item-action",{active:e.categoryValue==="giftBox"}]),onClick:o[1]||(o[1]=i=>e.getProducts(1,"giftBox"))},R,2),t("button",{type:"button",class:d(["list-group-item list-group-item-action",{active:e.categoryValue==="bathAndBodyProducts"}]),onClick:o[2]||(o[2]=i=>e.getProducts(1,"bathAndBodyProducts"))},U,2),t("button",{type:"button",class:d(["list-group-item list-group-item-action",{active:e.categoryValue==="fragrance"}]),onClick:o[3]||(o[3]=i=>e.getProducts(1,"fragrance"))},O,2)])}const J=h(N,[["render",X]]),Q={data(){return{}},props:["getProducts","categoryValue"],methods:{classifyProductsMobile(s){const o=s.target.value;this.getProducts(1,o)}}},Y=t("option",{value:"",selected:""},"全部商品",-1),q=t("option",{value:"giftBox"},"禮盒系列",-1),H=t("option",{value:"bathAndBodyProducts"},"沐浴用品",-1),W=t("option",{value:"fragrance"},"室內香氛",-1),Z=[Y,q,H,W];function K(s,o,e,p,r,l){return n(),c("select",{class:"form-select mb-5 fs-6",name:"product-categories",onChange:o[0]||(o[0]=i=>l.classifyProductsMobile(i))},Z,32)}const G=h(Q,[["render",K]]);const tt={data(){return{}},props:["getProducts","categoryValue","page"]},C=s=>(P("data-v-08abf986"),s=s(),k(),s),et={class:"d-flex justify-content-center"},st={"aria-label":"Page navigation "},ot={class:"pagination pagination-sm"},at=C(()=>t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-chevron-left"})],-1)),it=[at],nt=["onClick"],ct=C(()=>t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-chevron-right"})],-1)),rt=[ct];function lt(s,o,e,p,r,l){return n(),c("div",et,[t("nav",st,[t("ul",ot,[t("li",{class:d(["page-item",{disabled:!e.page.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=y(i=>e.getProducts(e.page.current_page-1,e.categoryValue),["prevent"]))},it)],2),(n(!0),c(f,null,L(e.page.total_pages,i=>(n(),c("li",{class:d(["page-item",{active:i===e.page.current_page}]),key:i+"page"},[t("a",{class:"page-link",href:"#",onClick:y(m=>e.getProducts(i,e.categoryValue),["prevent"])},g(i),9,nt)],2))),128)),t("li",{class:d(["page-item",{disabled:!e.page.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=y(i=>e.getProducts(e.page.current_page+1,e.categoryValue),["prevent"]))},rt)],2)])])])}const dt=h(tt,[["render",lt],["__scopeId","data-v-08abf986"]]);const ut={data(){return{container:this.$refs.loadingContainer}},props:["categoryProducts","categoryValue","getProducts","page","isLoading"],components:{PaginationComponent:dt,ContainerLoading:B},methods:{...I($,["addToCart","addWishList","wishListActive"])},computed:{...S($,["carts","wishList","wishListAddStatus","spinnerLoading"])}},w=s=>(P("data-v-c31598a3"),s=s(),k(),s),_t={class:"vl-parent",ref:"loading-container"},gt={key:0},ht=w(()=>t("h2",{class:"fs-3 text-secondary text-center mt-10 mb-20"},"很抱歉! 找不到符合的商品",-1)),pt=[ht],mt={key:1,class:"row g-md-4 g-3"},yt={class:"card border-0 h-100 position-relative"},vt=["onClick"],bt=w(()=>t("i",{class:"bi bi-heart position-absolute"},null,-1)),ft={class:"position-relative"},Pt={key:0,class:"position-absolute p-2 bg-pink z-index-4 fs-md-6 fs-7 text-white top-0"},kt={key:1,class:"product-sell-out text-center text-white fs-3"},$t={class:"img-hidden"},Lt=["src","alt"],xt={class:"my-2"},Vt={class:"card-title text-black fs-6 mb-1 mt-2"},Ct={key:0,class:"card-text text-black fs-6 mb-2"},wt={key:1,class:"card-text text-black fs-6 mb-2"},Tt={class:"ms-1 text-decoration-line-through text-secondary"},At=["onClick","disabled"],It={key:0,class:"spinner-border-sm spinner-border",role:"status","aria-hidden":"true"},St={class:"mt-7"};function Bt(s,o,e,p,r,l){const i=u("ContainerLoading"),m=u("router-link"),v=u("PaginationComponent");return n(),c("div",_t,[_(i,{isLoading:e.isLoading,container:r.container},null,8,["isLoading","container"]),e.categoryProducts.length===0?(n(),c("div",gt,pt)):(n(),c("div",mt,[(n(!0),c(f,null,L(e.categoryProducts,a=>(n(),c("div",{key:a.id,class:"col-lg-4 col-6"},[t("div",yt,[t("a",{class:"wishLists-btn fs-4 link-light",href:"",onClick:y(A=>s.addWishList(a),["prevent"])},[t("i",{class:d(["bi bi-heart-fill position-relative",{"heart-fill-active":s.wishListActive(a)}])},null,2),bt],8,vt),_(m,{class:"product-link text-decoration-none",to:`/product/${a.id}`},{default:x(()=>[t("div",ft,[a.is_hotSale?(n(),c("span",Pt,"HOT")):b("",!0),a.quantity===0?(n(),c("div",kt," 已售完 ")):b("",!0),t("div",$t,[t("img",{class:"rounded-0 img-fluid cover-fit",src:a.imageUrl,alt:a.title,width:"351",height:"320",style:{"background-color":"var(--bs-secondary)"}},null,8,Lt)])])]),_:2},1032,["to"]),t("div",xt,[t("h3",Vt,g(a.title),1),a.origin_price===a.price?(n(),c("p",Ct,[t("span",null,"NT$"+g(a.origin_price),1)])):(n(),c("p",wt,[t("span",null,"NT$"+g(a.price),1),t("span",Tt,"NT$"+g(a.origin_price),1)]))]),t("button",{class:"btn btn-outline-primary w-100 mt-auto py-2",type:"button",onClick:A=>s.addToCart(a.id),disabled:a.quantity===0||s.spinnerLoading===a.id},[s.spinnerLoading===a.id?(n(),c("span",It)):b("",!0),V(" 加入購物車 ")],8,At)])]))),128))])),t("div",St,[_(v,{getProducts:e.getProducts,categoryValue:e.categoryValue,page:e.page},null,8,["getProducts","categoryValue","page"])])],512)}const Nt=h(ut,[["render",Bt],["__scopeId","data-v-c31598a3"]]);const{VITE_APP_URL:Dt,VITE_APP_PATH:Et}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"peihanwang-hexschool",BASE_URL:"/Fangsis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Mt={data(){return{products:[],categoryProducts:[],categoryValue:"",page:{},isLoading:!1}},components:{ProductCategoryDesktop:J,ProductCategoryMobile:G,ProductList:Nt},methods:{getProducts(s=1,o=""){this.isLoading=!0,this.$http.get(`${Dt}/v2/api/${Et}/products?page=${s}&category=${o}`).then(e=>{this.products=e.data.products,this.categoryProducts=this.products,this.categoryValue=o,this.page=e.data.pagination,this.scrollToTop(),this.isLoading=!1}).catch(e=>{console.log(e),this.isLoading=!1})},scrollToTop(){window.scrollTo(0,0)}},mounted(){this.getProducts()}},T=s=>(P("data-v-ee71fae0"),s=s(),k(),s),Ft={class:"py-md-13 py-9 background-position-center background-size-corver",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/peihanwang-hexschool/1689994083390.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=fbh9MvNqSmL%2Bs8EQ1sukc8Yxip6M03Xj1r81k1C6L5IOsrr3RQLp%2FyNctt%2FSnGmgsE0V8RIKSwrKtspQN0JmEynIvezjrXu2sWKg8kMy7TUAU8VlafwLiUQWBRpYITL6JbUm%2BOc3smTAnJlxNewDMi8DYwdiqJ9DAaZfm2BS9JO9vgXAia%2Bwxd3YxrX%2F4RzJ3zQtdiQvZI4bwaptLgyX0Lir6dwimbzaq8wlRLlnSjU2g%2B286D2yMkjCNKl39Cg%2BZi9wTyHCIlPpf%2FnD3jpZkksFI%2FYunG8EaFvVUREZX4iXTgtaTMoO1fbFXl2wNy1sMAlLyxV8vbvuh535OknYHw%3D%3D')","background-color":"var(--bs-primary)"}},Rt={class:"container d-flex flex-column align-items-center"},zt=T(()=>t("h2",{class:"fw-bold fs-lg-10 fs-1 mb-3 text-white",style:{"font-family":"var(--bs-NotoSerif-TC)"}}," 全站商品 ",-1)),Ut={class:"fs-6"},jt={"aria-label":"breadcrumb"},Ot={class:"breadcrumb mb-0 text-white text-center"},Xt={class:"breadcrumb-item"},Jt=T(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"全站商品",-1)),Qt={class:"container my-6"},Yt={class:"row"},qt={class:"col-lg-3 d-none d-lg-block sticky-top-customize"},Ht={class:"d-block d-lg-none"},Wt={class:"col-lg-9"};function Zt(s,o,e,p,r,l){const i=u("routerLink"),m=u("ProductCategoryDesktop"),v=u("ProductCategoryMobile"),a=u("ProductList");return n(),c(f,null,[t("div",Ft,[t("div",Rt,[zt,t("div",Ut,[t("nav",jt,[t("ol",Ot,[t("li",Xt,[_(i,{class:"text-decoration-none text-white",to:"/"},{default:x(()=>[V("首頁")]),_:1})]),Jt])])])])]),t("div",Qt,[t("div",Yt,[t("div",qt,[_(m,{getProducts:l.getProducts,categoryValue:r.categoryValue},null,8,["getProducts","categoryValue"])]),t("div",Ht,[_(v,{getProducts:l.getProducts,categoryValue:r.categoryValue},null,8,["getProducts","categoryValue"])]),t("div",Wt,[_(a,{categoryProducts:r.categoryProducts,categoryValue:r.categoryValue,getProducts:l.getProducts,page:r.page,isLoading:r.isLoading},null,8,["categoryProducts","categoryValue","getProducts","page","isLoading"])])])])],64)}const ae=h(Mt,[["render",Zt],["__scopeId","data-v-ee71fae0"]]);export{ae as default};
