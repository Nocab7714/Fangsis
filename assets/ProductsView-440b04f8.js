import{_ as h,o as n,c,a as t,n as l,j as y,F as b,i as x,t as g,p as P,l as k,m as S,g as I,r as _,b as u,w as L,h as f,d as V}from"./index-bd691426.js";import{C as B}from"./ContainerLoading-f882800b.js";import{c as $}from"./cartAndWishList-791b78d5.js";import"./index-38ad52a9.js";import"./sweetalert2.all-fc258a9c.js";const N={data(){return{}},props:["getProducts","categoryValue"]},R={class:"list-group"},E=t("li",{class:"list-unstyled"},"全部商品",-1),D=[E],M=t("li",{class:"list-unstyled"},"禮盒系列",-1),z=[M],U=t("li",{class:"list-unstyled"},"沐浴用品",-1),j=[U],F=t("li",{class:"list-unstyled"},"室內香氛",-1),H=[F];function O(s,o,e,p,r,d){return n(),c("ul",R,[t("button",{type:"button",class:l(["list-group-item list-group-item-action",{active:e.categoryValue===""}]),onClick:o[0]||(o[0]=i=>e.getProducts(1))},D,2),t("button",{type:"button",class:l(["list-group-item list-group-item-action",{active:e.categoryValue==="giftBox"}]),onClick:o[1]||(o[1]=i=>e.getProducts(1,"giftBox"))},z,2),t("button",{type:"button",class:l(["list-group-item list-group-item-action",{active:e.categoryValue==="bathAndBodyProducts"}]),onClick:o[2]||(o[2]=i=>e.getProducts(1,"bathAndBodyProducts"))},j,2),t("button",{type:"button",class:l(["list-group-item list-group-item-action",{active:e.categoryValue==="fragrance"}]),onClick:o[3]||(o[3]=i=>e.getProducts(1,"fragrance"))},H,2)])}const W=h(N,[["render",O]]),q={data(){return{}},props:["getProducts","categoryValue"],methods:{classifyProductsMobile(s){const o=s.target.value;this.getProducts(1,o)}}},G=t("option",{value:"",selected:""},"全部商品",-1),J=t("option",{value:"giftBox"},"禮盒系列",-1),K=t("option",{value:"bathAndBodyProducts"},"沐浴用品",-1),Q=t("option",{value:"fragrance"},"室內香氛",-1),X=[G,J,K,Q];function Y(s,o,e,p,r,d){return n(),c("select",{class:"form-select mb-5 fs-6",name:"product-categories",onChange:o[0]||(o[0]=i=>d.classifyProductsMobile(i))},X,32)}const Z=h(q,[["render",Y]]);const tt={data(){return{}},props:["getProducts","categoryValue","page"]},C=s=>(P("data-v-3029fa06"),s=s(),k(),s),et={class:"d-flex justify-content-center"},st={"aria-label":"Page navigation "},ot={class:"pagination pagination-sm"},at=C(()=>t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-chevron-left"})],-1)),it=[at],nt=["onClick"],ct=C(()=>t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-chevron-right"})],-1)),rt=[ct];function dt(s,o,e,p,r,d){return n(),c("div",et,[t("nav",st,[t("ul",ot,[t("li",{class:l(["page-item",{disabled:!e.page.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=y(i=>e.getProducts(e.page.current_page-1,e.categoryValue),["prevent"]))},it)],2),(n(!0),c(b,null,x(e.page.total_pages,i=>(n(),c("li",{class:l(["page-item",{active:i===e.page.current_page}]),key:i+"page"},[t("a",{class:"page-link",href:"#",onClick:y(m=>e.getProducts(i,e.categoryValue),["prevent"])},g(i),9,nt)],2))),128)),t("li",{class:l(["page-item",{disabled:!e.page.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=y(i=>e.getProducts(e.page.current_page+1,e.categoryValue),["prevent"]))},rt)],2)])])])}const lt=h(tt,[["render",dt],["__scopeId","data-v-3029fa06"]]);const _t={data(){return{container:this.$refs.loadingContainer}},props:["categoryProducts","categoryValue","getProducts","page","isLoading"],components:{PaginationComponent:lt,ContainerLoading:B},methods:{...S($,["addToCart","addWishList","wishListActive"])},computed:{...I($,["carts","wishList","wishListAddStatus","spinnerLoading"])}},w=s=>(P("data-v-7dc30ef2"),s=s(),k(),s),ut={class:"vl-parent",ref:"loading-container"},gt={key:0},ht=w(()=>t("h2",{class:"fs-3 text-secondary text-center mt-10 mb-20"},"很抱歉! 找不到符合的商品",-1)),pt=[ht],mt={key:1,class:"row g-md-4 g-3"},yt={class:"card border-0 h-100 position-relative"},vt=["onClick"],ft=w(()=>t("i",{class:"bi bi-heart position-absolute"},null,-1)),bt={class:"position-relative"},Pt={key:0,class:"position-absolute p-2 bg-pink z-index-4 fs-md-6 fs-7 text-white top-0"},kt={key:1,class:"product-sell-out text-center text-white fs-3"},$t={class:"img-hidden"},xt=["src","alt"],Lt={class:"my-2"},Vt={class:"card-title text-black fs-6 mb-1 mt-2"},Ct={key:0,class:"card-text text-black fs-6 mb-2"},wt={key:1,class:"card-text text-black fs-6 mb-2"},Tt={class:"ms-1 text-decoration-line-through text-secondary"},At=["onClick","disabled"],St={key:0,class:"spinner-border-sm spinner-border",role:"status","aria-hidden":"true"},It={class:"mt-7"};function Bt(s,o,e,p,r,d){const i=_("ContainerLoading"),m=_("RouterLink"),v=_("PaginationComponent");return n(),c("div",ut,[u(i,{isLoading:e.isLoading,container:r.container},null,8,["isLoading","container"]),e.categoryProducts.length===0?(n(),c("div",gt,pt)):(n(),c("div",mt,[(n(!0),c(b,null,x(e.categoryProducts,a=>(n(),c("div",{key:a.id,class:"col-lg-4 col-6"},[t("div",yt,[t("a",{class:"wishLists-btn fs-4 link-light",href:"",onClick:y(A=>s.addWishList(a),["prevent"])},[t("i",{class:l(["bi bi-heart-fill position-relative",{"heart-fill-active":s.wishListActive(a)}])},null,2),ft],8,vt),u(m,{class:"product-link text-decoration-none",to:`/product/${a.id}`},{default:L(()=>[t("div",bt,[a.is_hotSale?(n(),c("span",Pt,"HOT")):f("",!0),a.quantity===0?(n(),c("div",kt," 已售完 ")):f("",!0),t("div",$t,[t("img",{class:"rounded-0 img-fluid cover-fit",src:a.imageUrl,alt:a.title,width:"351",height:"320",style:{"background-color":"var(--bs-secondary)"}},null,8,xt)])])]),_:2},1032,["to"]),t("div",Lt,[t("h3",Vt,g(a.title),1),a.origin_price===a.price?(n(),c("p",Ct,[t("span",null,"NT$"+g(a.origin_price),1)])):(n(),c("p",wt,[t("span",null,"NT$"+g(a.price),1),t("span",Tt,"NT$"+g(a.origin_price),1)]))]),t("button",{class:"btn btn-outline-primary w-100 mt-auto py-2",type:"button",onClick:A=>s.addToCart(a.id),disabled:a.quantity===0||s.spinnerLoading===a.id},[s.spinnerLoading===a.id?(n(),c("span",St)):f("",!0),V(" 加入購物車 ")],8,At)])]))),128))])),t("div",It,[u(v,{getProducts:e.getProducts,categoryValue:e.categoryValue,page:e.page},null,8,["getProducts","categoryValue","page"])])],512)}const Nt=h(_t,[["render",Bt],["__scopeId","data-v-7dc30ef2"]]);const{VITE_APP_URL:Rt,VITE_APP_PATH:Et}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"peihanwang-hexschool",BASE_URL:"/Fangsis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Dt={data(){return{products:[],categoryProducts:[],categoryValue:"",page:{},isLoading:!1}},components:{ProductCategoryDesktop:W,ProductCategoryMobile:Z,ProductList:Nt},methods:{getProducts(s=1,o=""){this.isLoading=!0,this.$http.get(`${Rt}/v2/api/${Et}/products?page=${s}&category=${o}`).then(e=>{this.products=e.data.products,this.categoryProducts=this.products,this.categoryValue=o,this.page=e.data.pagination,this.scrollToTop(),this.isLoading=!1}).catch(()=>{this.isLoading=!1})},scrollToTop(){window.scrollTo(0,0)}},mounted(){this.getProducts()}},T=s=>(P("data-v-c1c5d588"),s=s(),k(),s),Mt={class:"py-md-13 py-9 background-position-center background-size-corver",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/peihanwang-hexschool/1689994083390.jpg')","background-color":"var(--bs-primary)"}},zt={class:"container d-flex flex-column align-items-center"},Ut=T(()=>t("h2",{class:"fw-bold fs-lg-10 fs-1 mb-3 text-white",style:{"font-family":"var(--bs-NotoSerif-TC)"}}," 全站商品 ",-1)),jt={class:"fs-6"},Ft={"aria-label":"breadcrumb"},Ht={class:"breadcrumb mb-0 text-white text-center"},Ot={class:"breadcrumb-item"},Wt=T(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"全站商品",-1)),qt={class:"container my-6"},Gt={class:"row"},Jt={class:"col-lg-3 d-none d-lg-block sticky-top-customize"},Kt={class:"d-block d-lg-none"},Qt={class:"col-lg-9"};function Xt(s,o,e,p,r,d){const i=_("RouterLink"),m=_("ProductCategoryDesktop"),v=_("ProductCategoryMobile"),a=_("ProductList");return n(),c(b,null,[t("div",Mt,[t("div",zt,[Ut,t("div",jt,[t("nav",Ft,[t("ol",Ht,[t("li",Ot,[u(i,{class:"text-decoration-none text-white",to:"/"},{default:L(()=>[V("首頁")]),_:1})]),Wt])])])])]),t("div",qt,[t("div",Gt,[t("div",Jt,[u(m,{getProducts:d.getProducts,categoryValue:r.categoryValue},null,8,["getProducts","categoryValue"])]),t("div",Kt,[u(v,{getProducts:d.getProducts,categoryValue:r.categoryValue},null,8,["getProducts","categoryValue"])]),t("div",Qt,[u(a,{categoryProducts:r.categoryProducts,categoryValue:r.categoryValue,getProducts:d.getProducts,page:r.page,isLoading:r.isLoading},null,8,["categoryProducts","categoryValue","getProducts","page","isLoading"])])])])],64)}const oe=h(Dt,[["render",Xt],["__scopeId","data-v-c1c5d588"]]);export{oe as default};
